.PHONY: doc clean

################################################################################
# Build everything
################################################################################
all: astrix doc

################################################################################
# Main program: Astrix
################################################################################
astrix:
	cd src/astrix; $(MAKE)

################################################################################
# Simple visualiser
################################################################################
#visAstrix:
#	cd src/visAstrix; $(MAKE)

################################################################################
# Doxygen documentation
################################################################################
doc:
	cd src/astrix; doxygen ../../doc/doxygen/Doxyfile
	cd doc; make html

################################################################################
# Clean up everything
################################################################################
allclean:
	cd src/astrix; $(MAKE) clean
#	cd src/visAstrix; $(MAKE) clean
	rm -f -r doc/doxygen/xml
	cd doc; make clean

################################################################################
# Clean up Astrix
################################################################################
clean:
	cd src/astrix; $(MAKE) clean
