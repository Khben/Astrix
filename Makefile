.PHONY: doc clean

################################################################################
# Build everything
################################################################################
all: astrix visAstrix doc

################################################################################
# Main program: Astrix
################################################################################
astrix:
	cd src/astrix; $(MAKE)

################################################################################
# Simple visualiser
################################################################################
visAstrix:
	cd src/visAstrix; $(MAKE)

################################################################################
# Doxygen documentation
################################################################################
doc:
	cd src/astrix; doxygen ../../doc/doxygen/Doxyfile
	cd doc/doxygen/latex; $(MAKE)

################################################################################
# Clean up everything
################################################################################
clean:
	cd src/astrix; $(MAKE) clean
	cd src/visAstrix; $(MAKE) clean
	rm -f -r doc/doxygen/latex
	rm -f -r doc/doxygen/html
